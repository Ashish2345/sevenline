{% extends 'authentication/base.html' %}

{% load static %}
{% block css %}
<style>
    .greentext {
        color: hsl(139deg 59% 55%);
      }

      .redtext {
        color: #f44;
      }
      
</style>

{% endblock css %}
{% block content %}

<div class="account-pages my-5 pt-sm-5">
    <div class="container">
        <div class="row">
            
        </div>
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-5">
               
                    
                    <div class="card overflow-hidden" bis_skin_checked="1">
                        <div class="bg-soft-primary" bis_skin_checked="1">
                           <div class="row" bis_skin_checked="1">
                              <div class="col-7" bis_skin_checked="1">
                                 <div class="text-primary p-4" bis_skin_checked="1">
                                    <h5 class="text-primary">{% if not recovered %}Reset Password {% endif %}</h5>
                                 </div>
                              </div>
                              <div class="col-5 align-self-end" bis_skin_checked="1"><img src="/img/profile-img.ba4e037e.png" alt="" class="img-fluid"></div>
                           </div>
                        </div>
                        <div class="card-body pt-0" bis_skin_checked="1">
                           {% if not recovered %}
                           <div class="p-2" bis_skin_checked="1">
                              <div class="alert alert-success text-center mb-4" role="alert" bis_skin_checked="1"> Enter new password! </div>
                              <form class="form-horizontal" method="post">
                                {% csrf_token %}
                                {% if form.non_field_errors %}
                                <div class="non-field-errors">
                                    {% for error in form.non_field_errors %}
                                    <p class="form-error" style="color: red;">{{ error }}</p>
                                    {% endfor %}
                                </div>
                                {% endif %} 
                                
                                <div class="mb-3">
                                    <label class="form-label">Password *</label>
                                    <div class="input-group auth-pass-inputgroup">
                                        <input type="password" class="form-control" id="id_password1" placeholder="Enter password" name="password">
                                        <button class="btn btn-light " type="button" id="password-addon" ><i class="mdi mdi-eye-outline" ></i></button>
                                    </div>
                                </div>
                                        <div class="mt-2">
                                            <small id="eight_char" class="form-text"><i
                                                    class="fa fa-check greentext checkicon"></i> Minimum of 8
                                                characters</small>
                                            <small id="lower_letter" class="form-text"><i
                                                    class="fa fa-check greentext checkicon"></i>At least one
                                                lowercase letter</small>
                                            <small id="capital_letter" class="form-text"><i
                                                    class="fa fa-check greentext checkicon"></i>At least one
                                                capital letter</small>
                                            <small id="special_char" class="form-text "><i
                                                    class="fa fa-check greentext checkicon"></i> At least one
                                                special characters</small>
                                            <small id="number_text" class="form-text "><i
                                                    class="fa fa-check greentext checkicon"></i> At least one
                                                Number </small>

                                        </div>
                                 
                                
                                <div class="mb-3 mt-3">
                                    <label for="confirm_pwd">Confirm Password</label>
                                    <div class="input-group auth-pass-inputgroup">
                                        <input type="password" class="form-control" id="id_password2" placeholder="Enter confirm password"  name="confirm_password"><!---->
                                        <button class="btn btn-light " type="button" id="pass2" ><i class="mdi mdi-eye-outline" ></i></button>
                                    </div>
                                </div>
                                <div>
                                    <small id="repassword-fail" class="form-text redtext">
                                        <i class="mx-2 fa fa-times redtext"></i>Password Not Matched</small>
                                    <small id="repassword-pass" class="form-text greentext">
                                        <i class="mx-2 fa fa-check greentext"></i>Password Matched</small>
                                </div>
                                 <div class="form-group row mb-0 mt-3" bis_skin_checked="1">
                                    <div class="col-12 text-end" bis_skin_checked="1"><button class="btn btn-primary w-md" type="submit" id="submit_password"> Reset </button></div>
                                 </div>
                              </form>
                           </div>
                           {% else %}
                           <div class="p-2">
                            <div class="text-center">

                                <div class="avatar-md mx-auto">
                                    <div class="avatar-title rounded-circle bg-light">
                                        <i class="bx bx-mail-send h1 mb-0 text-primary"></i>
                                    </div>
                                </div>
                                <div class="p-2 mt-4">
                                    <h4>Success !</h4>
                                    <p class="text-muted">You password has been reset successfully. Now you can login with your new credentials.</p>
                                    <div class="mt-4">
                                        <a href="{% url 'accounts:login' %}" class="btn btn-success">Return</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                           {% endif %}
                        </div>
                     </div>
                </div>
              

          
        </div>
    </div>
</div>


{% endblock content %}
{% block js %}

<script type="text/javascript" src="{% static 'assets2/js/password_validation.js' %}"></script>


<script>
    {% if recovered %}
    
    toastr.success("Password Reset Successfully!!")

    {% endif %}


</script>


{% endblock js %}




